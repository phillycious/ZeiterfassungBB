<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Zeiterfassung</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Allgemeine Stile */
    button:active {
      transform: scale(0.95);
    }

    /* Responsive Design für kleinere Bildschirme */
    @media (max-width: 768px) {
      .flex {
        flex-direction: column;
        align-items: flex-start;
      }
      button {
        padding: 8px 16px;
        font-size: 14px;
        margin: 4px 0; /* Abstand zwischen den Buttons */
      }
      .mitarbeiter-button {
        width: 100%; /* Mitarbeiter-Button nimmt die volle Breite ein */
        margin-bottom: 8px; /* Abstand unter dem Mitarbeiter-Button */
      }
      .aktionen-buttons {
        width: 100%; /* Aktionen-Buttons nehmen die volle Breite ein */
        display: flex;
        flex-wrap: wrap;
        gap: 4px; /* Abstand zwischen den Aktionen-Buttons */
      }
      .aktionen-buttons button {
        flex: 1 1 45%; /* Buttons nehmen etwa die Hälfte der Breite ein */
      }
    }
  </style>
</head>
<body class="bg-black p-6">

  <div class="space-y-4">
    <!-- Morris -->
    <div class="flex items-center space-x-4">
      <button class="px-4 py-2 bg-green-500 text-white rounded-lg mitarbeiter-button">MORRIS</button>
      <div class="aktionen-buttons">
        <button onclick="trackTime('start', 1)" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg">START</button>
        <button onclick="trackTime('pause', 1)" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg">PAUSE</button>
        <button onclick="trackTime('pauseEnd', 1)" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg">PAUSE OFF</button>
        <button onclick="trackTime('end', 1)" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg">ENDE</button>
      </div>
    </div>

    <!-- Jojo -->
    <div class="flex items-center space-x-4">
      <button class="px-4 py-2 bg-green-500 text-white rounded-lg mitarbeiter-button">JOJO</button>
      <div class="aktionen-buttons">
        <button onclick="trackTime('start', 2)" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg">START</button>
        <button onclick="trackTime('pause', 2)" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg">PAUSE</button>
        <button onclick="trackTime('pauseEnd', 2)" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg">PAUSE OFF</button>
        <button onclick="trackTime('end', 2)" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg">ENDE</button>
      </div>
    </div>

    <!-- Piet -->
    <div class="flex items-center space-x-4">
      <button class="px-4 py-2 bg-green-500 text-white rounded-lg mitarbeiter-button">PIET</button>
      <div class="aktionen-buttons">
        <button onclick="trackTime('start', 3)" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg">START</button>
        <button onclick="trackTime('pause', 3)" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg">PAUSE</button>
        <button onclick="trackTime('pauseEnd', 3)" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg">PAUSE OFF</button>
        <button onclick="trackTime('end', 3)" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg">ENDE</button>
      </div>
    </div>

    <!-- Jan -->
    <div class="flex items-center space-x-4">
      <button class="px-4 py-2 bg-green-500 text-white rounded-lg mitarbeiter-button">JAN</button>
      <div class="aktionen-buttons">
        <button onclick="trackTime('start', 4)" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg">START</button>
        <button onclick="trackTime('pause', 4)" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg">PAUSE</button>
        <button onclick="trackTime('pauseEnd', 4)" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg">PAUSE OFF</button>
        <button onclick="trackTime('end', 4)" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg">ENDE</button>
      </div>
    </div>

    <!-- Philly -->
    <div class="flex items-center space-x-4">
      <button class="px-4 py-2 bg-green-500 text-white rounded-lg mitarbeiter-button">PHILLY</button>
      <div class="aktionen-buttons">
        <button onclick="trackTime('start', 5)" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg">START</button>
        <button onclick="trackTime('pause', 5)" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg">PAUSE</button>
        <button onclick="trackTime('pauseEnd', 5)" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg">PAUSE OFF</button>
        <button onclick="trackTime('end', 5)" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg">ENDE</button>
      </div>
    </div>

    <!-- Darija -->
    <div class="flex items-center space-x-4">
      <button class="px-4 py-2 bg-green-500 text-white rounded-lg mitarbeiter-button">DARIJA</button>
      <div class="aktionen-buttons">
        <button onclick="trackTime('start', 6)" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg">START</button>
        <button onclick="trackTime('pause', 6)" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg">PAUSE</button>
        <button onclick="trackTime('pauseEnd', 6)" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg">PAUSE OFF</button>
        <button onclick="trackTime('end', 6)" class="px-4 py-2 bg-gray-300 text-gray-800 rounded-lg">ENDE</button>
      </div>
    </div>
  </div>

  <!-- Zusammenfassung anfordern -->
  <div class="mt-8">
    <button onclick="requestSummary()" class="px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600">
      Zusammenfassung anfordern
    </button>
  </div>

  <script>
    // Google Apps Script-URL
    const scriptUrl = "https://script.google.com/macros/s/AKfycbx26Wh0LhcZYrz5rkcC-cOIoIDjJd8J3xLdPibKu_X1VphS_6CP1qR6QIswiJDUkZbkyA/exec";

    async function trackTime(action, employee) {
      const timestamp = new Date().toISOString(); // Aktuelle Zeit
      const data = { action, timestamp, employee };

      // Daten an Google Sheets senden
      await fetch(scriptUrl, {
        method: 'POST',
        body: JSON.stringify(data)
      });

      alert(`Aktion "${action}" um ${new Date(timestamp).toLocaleTimeString()} erfasst!`);
    }

    async function requestSummary() {
      // Zusammenfassung anfordern
      await fetch(scriptUrl, {
        method: 'GET'
      });

      alert("Zusammenfassung wurde angefordert. Überprüfe deine E-Mails!");
    }
  </script>

</body>
</html>
